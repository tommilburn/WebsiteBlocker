<html>
<head>
	<title>Document</title>
	<style>
		#content{
			width: 100%;
			font-family: helvetica;
		}
		h1{
			text-align: center;
			font-size: 1em;
			font-weight: bold;
		}
		textarea{
			width: 100%;
			resize: none;
		}
		button, form{
			width:70%;
			margin: .5em 15%;
		}

	</style>	
</head>
<body>
	<div id="content">
		<h1>Website Blocker</h1>
		<textarea id="sites" name="sites" rows="10">google.com
reddit.com</textarea>
		<button id="save" name="save">Save Blocklist</button>
		<form>
		<input type="radio" id="enabled" name="enabled" value="enabled" checked>Enabled
			<input type="radio" id="disabled" name="enabled" value="disabled">Disabled
		</form> 
	</div>
	<script type="text/javascript">
		document.getElementById('save').onclick = function(e){
			var sites = document.getElementById('sites').value.split('\n');
			sites.forEach(function(site, i){
				site[i] = site[i].trim();
			});
			safari.extension.globalPage.contentWindow.blockList = sites;
		}
		document.getElementById("enabled").onclick = function(){
			safari.extension.globalPage.contentWindow.blockingEnabled = true;
		}
		document.getElementById("disabled").onclick = function(){
			safari.extension.globalPage.contentWindow.blockingEnabled = false;
		}
		
		
	</script>
</body>
</html>